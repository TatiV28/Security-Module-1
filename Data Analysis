import pandas as pd
import os

def analyze_data(data):
    try:
        # Convert input data to DataFrame
        df = pd.DataFrame(data)
        
        # Basic statistical analysis
        result = {
            'mean': df.mean(numeric_only=True).to_dict(),
            'std': df.std(numeric_only=True).to_dict(),
            'count': len(df),
            'columns': list(df.columns)
        }
        
        # Save analysis results
        output_path = os.path.join('data', 'analysis_results.csv')
        df.describe().to_csv(output_path)
        
        return result
    except Exception as e:
        return {"error": str(e)}
